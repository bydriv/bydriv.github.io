#+SETUPFILE: ../setup.org
#+TITLE: 技術書典5にサークル参加した

#+BEGIN_LOCATION
@@html:https://<a href="/">bydriv.github.io</a>/<a href="/blog">blog</a>/<strong>tbf5.html</strong>@@
#+END_LOCATION

#+BEGIN_CREATED_AT
created at @@html:<time datetime="2018-10-09">2018-10-09</time>@@
#+END_CREATED_AT

#+BEGIN_UPDATED_AT
updated at @@html:<time datetime="2018-10-09">2018-10-09</time>@@
#+END_UPDATED_AT

表題の通り．
2018年7月頃に応募して， それから本と実際に動作する処理系 ([[https://github.com/wejournal/lamb][Lamb]]) の開発を始めた．
10月8日には *ラムダ計算を実装してみる。/Implementing Lambda Calculus.* を頒布しました．
そのことに関する話．

#+BEGIN_CENTER
#+ATTR_HTML: :srcset implementing-lambda-calculus-0x2.png 2x
[[./implementing-lambda-calculus-0.png]]
#+END_CENTER

* 表紙絵

表紙絵は応募の1週間ほどまえに描いていた絵にした．
表紙絵にしようと思って描いたわけではなかったけど，
そこそこかわいかったしサイズもちょうどよかった．
絵を描けると表紙も描けてお得です（？）．

どうでもいいけど絵を描くときは印刷も考慮した解像度で描いておくとあとあと便利だなと思った．

* 処理系

本の漠然としたイメージとして，ラムダ計算の処理系を実装してみる，
というテーマで書くことは決めていた．
それ以上のことはほとんど決まっていなかった．
なのでひとまず処理系の実装を始めた．

最初はほんとうに単純型つきラムダ計算程度の機能しかもたない言語にするつもりだったし，
そうしていた． たとえば "宣言" のような概念を実装するつもりはなく，
項を直接書き，数値や文字列も自力でエンコードする言語を想定していた．
ただ実装するにつれてだんだんほしいものが増えてしまって，
結果的に現在の仕様になっている．

Lamb 自体はそれでいいのだけれど，本としては "ラムダ計算を実装してみる。" というより
"ラムダ計算をベースとした言語を実装してみる。" という感じになってしまって，
ラムダ計算の本，というのはやや語弊がある感じになってしまってはいる
(もっとも，これは厳密な意味でのラムダ計算本となると完全に数学書になってしまうだろうし，
技術書としてはこれでよかったのかなという気もする)．

* 文章

文章を書くのは難しかった．
処理系はデバッグできるけど，文章はデバッグできない．
文章の処理系は脳なのでデバッグするには脳に流しこむしかないのだが……．

* 組版

LuaTeX を利用した．
じつは数年前からいろいろあって組版自体は何度もしていて，それらのノウハウが活きた感じ．

ビッグウェーブに乗って SATySFi で書こうみたいなアレもあったけど，
それで失敗したら目もあてられないので，今回は見送った．
つぎは最悪新刊を落としても既刊だけ販売，みたいな選択がとれるのでやってみたい．

* 製本

印刷所の利用法がよくわからなかったのでコピー本にすることにした．
(利用法自体は公式サイトに載ってはいたしスケジュールにも余裕はあったが，
apt とかでインストールしてコマンドを起動すれば印刷される，
というような機械的なルーチンではなくメールを投げて依頼して，という感じだったので最初からうまくやる自信がなかった．
なにかの間違いで失敗してしまった場合目もあてられないので今回は確実にうまくやれそうな方法をとった)．

もし失敗しても既刊だけ販売，みたいなことができるようになったのですこしフェイルセーフになった気がする．
なので，次回は利用してみたい．

コピー本は B5 の普通紙28枚に両面のモノクロ印刷で本文を印刷し，
B5 の高品位専用紙2枚にカラーで表紙と裏表紙を印刷した．

* 部数

20部印刷した．
1冊は見本誌としたので，実際に頒布したのは19部だった．
理由はいろいろあってひとつはそんなに捌く自信がないから，
あともっと切実な理由としては製本に時間がかかりすぎる
(1部30分で， 20部刷るのに10時間かかる) という問題があった．
印刷は徹夜でおこなったので，正直これ以上刷るのは体力的にしんどかった．

あとイベント直入みたいな宅配サービスを利用するつもりはなくて（利用法がわからないから），
自力搬入をするつもりだったのであんまかさばるとキツい．

そのへんの事情もあってチャンと印刷所を利用したいと思いました（小並感）．

ちなみにチャンと測ったわけではないが，1時間もせずに完売してしまった．

* ページ数

ページ数をどれくらいにするかはまったく考えていなかった．
最終的には，表紙含め 60p になった．

ただひとついえるのはページ数が増えると問題が指数関数的に増加するということ．
たとえば今回の場合， 60p を両面印刷するから1冊あたり 30枚の紙が必要なのだが
これを20部すると 30x20 でなんと600枚も紙を使ってしまう．
500枚いりのコピー用紙をまるまる使いきってしまうのである．
紙は買えばいいのだが自力搬入するつもりだったので500枚もの紙が占有する空間と重量はそこそこ問題だった．

* 印刷所について

コピー本を選んだのはそのほうが楽そうだから，
という感じ（初めてということで，クオリティをあげたり大量に頒布するよりは，
とりあえず本をだしただけで成功というふうに目標をさげていた）のだが，
正直楽ではない（あたりまえ）．
なので，増刷するにせよ印刷所を利用することになると思う．
今回刷ったコピー本はたぶん2度とつくられないので，
将来値があがるぞ（強気）．

* 当日のこと

当日は [[https://twitter.com/tadsan][@tadsan]] に売り子をしてもらった．
そのおかげで飛ぶように売れたぞ！　ありがとう！！
ちなみに Emacs のメジャーモード [[https://github.com/zonuexe/lamb-mode.el][lamb-mode.el]] もつくってくれた．
よかったら使ってみてね（突然の広告）．

午前中は息つく暇もないほどの勢いで売れていた．
体験としては，対面して「1部ください」といわれるとうれしいのだなぁと感じた．

午後には Twitter とかで交流のあるかたも見にきてくれたんだけど，
午前中に完売してしまっていたので，それが申しわけないなぁという感じだった．

あと，けっこう電子版を求めてくれるひとも多かったので検討中です．
いまのところファンティアを使うつもり．
ただフォントのライセンスがなんか微妙（基本的に印刷用のライセンス？）なので，
提供するにせよ印刷版とは違うフォントになってるかもしれないです．

いずれにせよ当日はすごく楽しかった．
正直途中から本をだすこと自体が危うい感じのスケジュールになりつつあってきて，
本がだせたら1部も売れなくても成功とするくらい目標を低くして参加したので，
本もだせたうえに完売もできたので大成功という感じです．
ありがとうございました．
