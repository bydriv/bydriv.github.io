<!DOCTYPE html><!--

--><head prefix="og: http://ogp.me/ns#"><!--

--><meta property="og:url" content="https://bydriv.github.io" /><!--
--><meta property="og:type" content="article" /><!--
--><meta property="og:title" content="bydriv.github.io" /><!--
--><meta property="og:description" content="personal website" /><!--
--><meta property="og:site_name" content="bydriv.github.io" /><!--
--><meta name="twitter:card" content="summary"><!--

--><meta charset="utf-8"><!--
--><meta name="viewport" content="width=device-width, initial-scale=1"><!--
--><title>bydriv.github.io</title><!--

--><link rel="stylesheet" type="text/css" href="/prelude/style.css"><!--

--></head><!--

--><div class="taskbar"><!--
--><a class="icon" href="/">&#x221A;</a><!--
--><a class="icon" href="/about">&#x1F4BD;</a><!--
--><a class="icon" href="/gallery">&#x1F3A8;</a><!--
--><a class="icon" href="/agent-log">&#x1F4BB;</a><!--
--><a class="icon" href="/agent-log-underground">&#x1F495;</a><!--
--><a class="icon" href="/blog">&#x1F4DD;</a><!--
--><a class="icon" href="/anne">&#x1F45A;</a><!--
--></div>
<div class="window">
  <div class="header"></div>
  <div class="content">
<h2 >サイトにブログエンジンを乗せた
</h2>
<p>ブログエンジンというか、なんというか。
</p>
<p><a href=/blog>ここ</a>にアクセスするとブログ一覧が見れる。
</p>
<p>Anne が JSON を吐いてくれるおかげで、ブログのサマリーは
<code >jq</code> と <code >Makefile</code> で一瞬で実装できた。
</p>
<pre >blog/%/summary.json: blog/%/index.json
	cat $&lt; | jq '{type:"document",value:.value|map(select(.type == "paragraph"))|.[0:10]}' &gt; $@
</pre>
<p>というか jq ってほんとすごいし便利ですね！！！！！！！！！！！！！
</p>
<p><code >index.anne</code> を用意して <code >make</code> って入力するだけでビルドから
サマリーまでぜんぶやってくれる。すごい（そうでもない）。
</p>
<p>Anne については <a href=/blog/2019-04-17>こっちのブログ</a> にあらかた書いた。
</p>
<p>つぎは Anne をベースにブログエンジンを、もうすこし汎用的に書きたい感じもある。
</p>
<p>そんなに複雑なことをしなくても jq と Makefile だけでいろいろできそう。
</p>
<p>ドッグフーディング的な感じで、しばらくこれでブログを書いてみるつもりです。
</p>
  </div>
</div>
